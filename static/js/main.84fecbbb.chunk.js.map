{"version":3,"sources":["img/default.jpg","components/SearchForm/SearchForm.js","components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Error/Error.js","services/image-api.js","App.js","index.js"],"names":["module","exports","SearchForm","state","searchData","handleDataSearch","event","inputDataValue","currentTarget","value","setState","handleDataSubmit","preventDefault","normalizeSearchData","toLowerCase","props","onSubmit","reset","this","className","type","autoComplete","autoFocus","placeholder","onChange","Component","Searchbar","modalRoot","document","querySelector","Modal","handleKeyDown","code","onCloseModal","handleBackdropClick","target","window","addEventListener","removeEventListener","url","description","createPortal","onClick","src","alt","defaultProps","defaultImage","ImageGalleryItem","largeImageUrl","href","data-attr","ImageGallery","showModal","largeImage","toggleModal","dataset","attr","closeModal","images","map","id","webformatURL","largeImageURL","tags","key","Button","Loader","color","height","width","timeout","Error","axios","defaults","baseURL","imageApi","query","currentPage","get","then","response","data","hits","App","empty","error","isLoading","fetchImages","options","length","prevState","scrollImagesList","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","onChangeQuery","prevProps","shouldRenderLoadMoreButton","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.84fecbbb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/default.440b9b23.jpg\";","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './SearchForm.css';\n\nclass SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    searchData: '',\n  };\n\n  handleDataSearch = event => {\n    const inputDataValue = event.currentTarget.value;\n    this.setState({ searchData: inputDataValue });\n  };\n\n  handleDataSubmit = event => {\n    event.preventDefault();\n    const { searchData } = this.state;\n    const normalizeSearchData = searchData.toLowerCase();\n    this.props.onSubmit(normalizeSearchData);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ searchData: '' });\n  };\n\n  render() {\n    const { searchData } = this.state;\n    return (\n      <form className=\"SearchForm\" onSubmit={this.handleDataSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={searchData}\n          onChange={this.handleDataSearch}\n        />\n      </form>\n    );\n  }\n}\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SearchForm from '../SearchForm';\nimport './Searchbar.css';\n\nconst Searchbar = ({ onSubmit }) => (\n  <header className=\"Searchbar\">\n    <SearchForm onSubmit={onSubmit} />\n  </header>\n);\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport defaultImage from '../../img/default.jpg';\nimport './Modal.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    url: PropTypes.string,\n    description: PropTypes.string,\n    onCloseModal: PropTypes.func.isRequired,\n  };\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.onCloseModal();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onCloseModal();\n    }\n  };\n  render() {\n    const { url, description } = this.props;\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={url} alt={description} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\nModal.defaultProps = {\n  url: defaultImage,\n  description: 'find more at https://pixabay.com/api/',\n};\nexport default Modal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './ImageGalleryItem.css';\n\nconst ImageGalleryItem = ({ url, largeImageUrl, description, onClick }) => (\n  <li className=\"ImageGalleryItem\">\n    <a href={largeImageUrl} data-attr={description} onClick={onClick}>\n      <img src={url} alt={description} className=\"ImageGalleryItem-image\" />\n    </a>\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  url: PropTypes.string.isRequired,\n  largeImageUrl: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '../Modal';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport './ImageGallery.css';\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    images: PropTypes.array.isRequired,\n  };\n\n  state = {\n    showModal: false,\n    description: '',\n    largeImage: '',\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  showModal = event => {\n    event.preventDefault();\n    const { href, dataset } = event.currentTarget;\n    this.setState({\n      description: dataset.attr,\n      largeImage: href,\n    });\n    this.toggleModal();\n  };\n\n  closeModal = () => {\n    this.setState({\n      description: '',\n      largeImage: '',\n    });\n    this.toggleModal();\n  };\n  render() {\n    const { images } = this.props;\n    const { showModal, description, largeImage } = this.state;\n    return (\n      <>\n        {showModal && (\n          <Modal\n            url={largeImage}\n            description={description}\n            onCloseModal={this.closeModal}\n          />\n        )}\n        <ul className=\"ImageGallery\">\n          {images.map(({ id, webformatURL, largeImageURL, tags }) => {\n            return (\n              <ImageGalleryItem\n                key={id}\n                url={webformatURL}\n                largeImageUrl={largeImageURL}\n                description={tags}\n                onClick={this.showModal}\n              />\n            );\n          })}\n        </ul>\n      </>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Button.css';\n\nconst Button = ({ onClick }) => (\n  <button className=\"Button\" type=\"button\" onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport Spinner from 'react-loader-spinner';\nimport './Loader.css';\n\nconst Loader = () => (\n  <div>\n    <Spinner\n      type=\"Circles\"\n      color=\"#00BFFF\"\n      height={80}\n      width={80}\n      timeout={3000} //3 secs\n    />\n  </div>\n);\n\nexport default Loader;\n","import React from 'react';\n\nconst Error = () => <div>Something went wrong, try to search again</div>;\n\nexport default Error;\n","import axios from 'axios';\n\nconst key = '16322040-a1680f58c95db15607ca17c03';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst imageApi = ({ query = '', currentPage = 1 }) => {\n  return axios\n    .get(\n      `?key=${key}&q=${query}&page=${currentPage}&per_page=${'12'}&image_type=photo&orientation=horizontal`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default imageApi;\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport Error from './components/Error';\nimport imageApi from './services/image-api';\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    query: '',\n    currentPage: 1,\n    empty: false,\n    error: null,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query } = this.state;\n    if (prevState.query !== query) {\n      this.fetchImages();\n    }\n  }\n\n  fetchImages = () => {\n    const { query, currentPage } = this.state;\n    const options = {\n      query,\n      currentPage,\n    };\n\n    this.setState({ isLoading: true });\n    return imageApi(options)\n      .then(images => {\n        if (images.length === 0) this.setState({ empty: true });\n\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n\n        this.scrollImagesList();\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  scrollImagesList = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  onChangeQuery = query => {\n    this.setState({\n      query: query,\n      images: [],\n      currentPage: 1,\n      empty: false,\n      error: null,\n    });\n  };\n\n  render() {\n    const { images, isLoading, error, empty } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n    return (\n      <>\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && <Error />}\n        {empty && <Error />}\n        {images.length > 0 && <ImageGallery images={images} />}\n        {isLoading && <Loader />}\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchImages} />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}